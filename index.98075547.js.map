{"mappings":"AA8EA,MAEMA,EAAaC,SAASC,cAAc,kBACpCC,EAAwBF,SAASC,cAAc,eAC/CE,EAASH,SAASC,cAAc,WAChCG,EAAOJ,SAASC,cAAc,YACpCE,EAAOE,iBAAiB,SACxB,SAAwBC,GACxBJ,EAAsBK,mBAAmB,YAI9B,qC,IAGXR,EAAWM,iBAAiB,UAC5BG,eAAgCF,GAC5BA,EAAEG,iBACF,MACMC,EADO,IAAIC,SAASZ,GACHa,OAAO,YAWlCJ,eAA4BK,GAC5B,MAAMC,EAAQD,EAAIE,KAAIP,MAAMQ,IAC5B,MAAMC,QAAaC,MAAM,uCAAkBF,KAC3C,IAAIC,EAAKE,GACL,MAAM,IAAIC,MAEd,OAAOH,EAAKI,MAAM,IAEZC,QAAaC,QAAQC,WAAWV,GAEtC,OADmBQ,EAAKG,QAAOC,GAAwB,cAAhBA,EAAKC,SAAwBZ,KAAIC,GAAWA,EAAQY,MAAM,I,EAlB7FC,CADyBnB,EAAUK,KAAIC,GAAWA,EAAQc,SAAQL,QAAOT,GAAWA,KACtDe,MAAKvB,MAAMc,IACrC,MAAMR,QAqBdN,eAA2BK,GACtB,MAAMmB,EAAW,4CAChBC,EAAU,kCACNnB,EAAQD,EAAIE,KAAIP,MAAMQ,IACxB,MAAMC,QAAaC,MAAM,GAAGc,SAAgBC,OAAajB,EAAQkB,QAAQ,MACzE,IAAKjB,EAAKE,GACN,MAAM,IAAIC,MAEd,OAAOH,EAAKI,MAAM,IAEhBC,QAAaC,QAAQC,WAAWV,GAEtC,OADmBQ,EAAKG,QAAOC,GAAwB,cAAhBA,EAAKC,Q,CAhCpBQ,CAAWb,GACzBc,EAAUtB,EAAMW,QAAOC,GAAwB,cAAhBA,EAAKC,SAAwBZ,KAAIW,GAAQA,EAAKE,QAE/ExB,EAAKiC,UAAgCD,EAkClCrB,KAAI,EAAEuB,UAAStB,QAACA,EAAOuB,KAAEA,GAAOC,SAAQC,OAACA,EAAQC,WAAUC,KAACA,EAAIC,KAAEA,OAClE,2BACKA,WAAcL,oBACpBA,uBACAvB,sBACD2B,qBACAF,uBAENI,KAAK,IAzCA9C,EAAWsC,UAAU,EAAE,G","sources":["src/index.js"],"sourcesContent":["// ------ R - GET\n// const BASE_URL = 'https://jsonplaceholder.typicode.com/posts/1/';\n// fetch(BASE_URL).then(resp => resp.json()).then(data => console.log(data))\n\n// ------C - POST\n\n// const BASE_URL = 'https://jsonplaceholder.typicode.com/posts';\n\n// const addBtn = document.querySelector('.add');\n// const container = document.querySelector('.for-form');\n// const comment = document.querySelector('.js-comment')\n// addBtn.addEventListener('click', onClick);\n\n// function onClick (e){\n// container.innerHTML = createFormMarkup();\n// const form = document.querySelector('.js-form');\n// form.addEventListener('submit', onSubmit)\n// };\n\n// function createFormMarkup(){\n//     return `<form class=\"js-form\" action=\"submit\">\n//     <input type=\"text\" name=\"title\">\n//     <textarea name=\"body\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\n//     <button class=\"post\">Post comment</button>\n//   </form>`\n// }\n\n// function onSubmit(e){\n//     e.preventDefault();\n//     const {title, body} = e.currentTarget.elements;\n//     const options = {\n//         method: \"POST\",\n//         body:JSON.stringify({\n//             title: title.value,\n//             body: body.value,\n//             userId: 14\n//         }),\n//         headers: {\n//             \"Content-type\":\"application/json\"\n//         }\n//     };\n//     fetch(BASE_URL, options).then(resp => {\n//         if(!resp.ok){\n//             throw new Error(resp.statusText)\n//         };\n//         return resp.json()\n//     }).then(({title,body,id}) => {\n//         console.log(title);\n//         console.log(body)\n//         comment.insertAdjacentHTML(\"beforeend\", `<li data-id=\"${id}\">\n//         <h3>${title}</h3>\n//         <p>${body}</p>\n//       </li>`);\n//       container.innerHTML = '';\n//     }).catch(err=> console.log(err));\n// };\n\n// ------------U - PUT/PATCH\n\n// const BASE_URL = 'https://jsonplaceholder.typicode.com/posts/1';\n\n// const options = {\n//     method:\"PUT\",\n//     body:JSON.stringify({\n//         body: 'Hello world'\n//     }),\n//     headers:{\n//         \"Content-Type\":\"application/json\"\n//     }\n// };\n\n// fetch(BASE_URL, options).then(resp => resp.json()).then(data => console.log(data));\n\n// -----------Weather in capital of countries\n// 'https://restcountries.com/v3.1/name/'\n//  const BASE_URL = \"http://api.weatherapi.com/v1\";\n// const API_KEY = \"ce2cb9b2a3da414bb5b172546231704\";\n\nconst countriesApi = 'https://restcountries.com/v3.1/name/'\n\nconst searchForm = document.querySelector('.js-searchForm');\nconst inputCountriesWrapper = document.querySelector('.js-wrapper');\nconst addBtn = document.querySelector('.js-add');\nconst list = document.querySelector('.js-list')\naddBtn.addEventListener('click', handlerOnClick);\nfunction handlerOnClick(e){\ninputCountriesWrapper.insertAdjacentHTML('beforeend', createMarkup())\n}\n\nfunction createMarkup (){\n    return `<input name=\"country\" type=\"text\">`\n}\n\nsearchForm.addEventListener('submit', handlerOnSubmit);\nasync function handlerOnSubmit (e){\n    e.preventDefault();\n    const data = new FormData(searchForm);\n    const countries = data.getAll('country');\n    const checkedCountries = countries.map(country => country.trim()).filter(country => country);\n    getCapitals(checkedCountries).then(async data => {\n        const resps = await getWeather(data);\n        const weather = resps.filter(item => item.status === 'fulfilled').map(item => item.value);\n        \n            list.innerHTML = createWeatherMarkup(weather);\n            searchForm.innerHTML='';\n    })\n};\n\nasync function getCapitals (arr){\nconst resps = arr.map(async country => {\nconst resp = await fetch(`${countriesApi}${country}`);\nif(!resp.ok){\n    throw new Error()\n};\nreturn resp.json()\n});\nconst data = await Promise.allSettled(resps);\nconst countryObj = data.filter(item => item.status === 'fulfilled').map(country => country.value[0]);\nreturn countryObj;\n}\n\nasync function getWeather (arr) {\n     const BASE_URL = \"http://api.weatherapi.com/v1/current.json\";\nconst API_KEY = \"ce2cb9b2a3da414bb5b172546231704\";\n    const resps = arr.map(async country => {\n        const resp = await fetch(`${BASE_URL}?key=${API_KEY}&q=${country.capital[0]}`);\n        if (!resp.ok){\n            throw new Error()\n        };\n        return resp.json();\n    });\n    const data = await Promise.allSettled(resps);\n    const weatherObj = data.filter(item => item.status === 'fulfilled');\n    return weatherObj;\n}\n\nfunction createWeatherMarkup(arr){\n    return arr.map(({location:{country, name}, current:{temp_c, condition:{text, icon}}}) => {\n        return `<li>\n        <img src=\"${icon}\" alt=\"${name}\">\n        <h2>${name}</h2>\n        <h3>${country}</h3>\n        <p>${text}</p>\n        <p>${temp_c}</p>\n      </li>`\n    }).join('')\n};"],"names":["$1f0dc3b9307be026$var$searchForm","document","querySelector","$1f0dc3b9307be026$var$inputCountriesWrapper","$1f0dc3b9307be026$var$addBtn","$1f0dc3b9307be026$var$list","addEventListener","e","insertAdjacentHTML","async","preventDefault","countries","FormData","getAll","arr","resps","map","country","resp","fetch","ok","Error","json","data","Promise","allSettled","filter","item","status","value","$1f0dc3b9307be026$var$getCapitals","trim","then","BASE_URL","API_KEY","capital","$1f0dc3b9307be026$var$getWeather","weather","innerHTML","location","name","current","temp_c","condition","text","icon","join"],"version":3,"file":"index.98075547.js.map"}